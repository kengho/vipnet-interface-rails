<%
  if defined?(row_id)
    id = row_id
  else
    id = node["id"]
  end
  if defined?(row_class)
    row_classes = "nodes__row #{row_class}"
  else
    row_classes = "nodes__row"
  end
%>

<tr id="node-<%= id %>__row" class="<%= row_classes %>">
  <script type="text/javascript">
  vipnetInterface.nodesData["#node-<%= id %>__row"] = {
    vipnetId: "<%= node["vipnet_id"] %>",
    name: "<%= node["name"] %>",
    history: "<%= node["history"] %>",
    category: "<%= node["category"] %>",
    ips: "<%= node["ip"]["summary"] %>",
    createdAt: "<%= node["created_first_at"] %>",
    deletedAt: "<%= node["deleted_at"] %>",
  }
  </script>
  <%#= render "nodes/row/select", id: id %>
  <%= render "nodes/row/string", value: node["vipnet_id"], node: node %>
  <%= render "nodes/row/info", node: node %>
  <%= render "nodes/row/string", value: node["name"], node: node %>
  <%= render "nodes/row/availability", node: node %>
  <%= render "nodes/row/string", value: node["ip"]["summary"], td_class: "nodes__td--dontoverflow", node: node %>
  <%= render "nodes/row/vipnet_version", value: node["version"]["summary"], node: node %>
  <% if defined?(row_id) %>
    <%# then this line is loaded by NodesController#history %>
    <%= render "nodes/row/space" %>
  <% else %>
    <%= render "nodes/row/history", node: node %>
  <% end %>
  <%= render "nodes/row/datetime", value: node["created_first_at"], node: node %>
  <%= render "nodes/row/datetime", value: node["deleted_at"] %>
  <%= render "nodes/row/tickets", tickets: node["tickets"] %>
  <%= render "nodes/row/space" %>
</tr>
