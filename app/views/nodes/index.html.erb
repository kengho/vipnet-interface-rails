<%= content_tag(:div, id: "spinner-template") do %>
  <%= render "nodes/row/remote_button/spinner" %>
<% end %>
<%= content_tag(:div, id: "status-template--true") do %>
  <%= render "nodes/row/remote_button/status",
        name: "status--true",
        icon_class: "primary",
        icon: i("nodes.row.remote_button.status.true")
  %>
<% end %>
<%= content_tag(:div, id: "status-template--false") do %>
  <%= render "nodes/row/remote_button/status",
        name: "status--false",
        icon_class: "accent",
        icon: i("nodes.row.remote_button.status.false")
  %>
<% end %>

<%= content_tag(:script) do %>
  vipnetInterface.nodes.ajax.load(<%= @params.to_json.html_safe %>);
<% end %>

<%= content_tag(:div, class: %w(mdl-layout mdl-js-layout mdl-layout--fixed-header)) do %>
  <%= render "progress" %>
  <%= render "header" %>

  <%= content_tag(:main, class: "mdl-layout__content") do %>
    <%= content_tag(:div, class: "page-content") do %>
      <%= content_tag(:div, id: "nodes-container") do %>
        <%# div is needed for $(".nodes").fadeOut() before first load(). %>
        <%= content_tag(:div, "", class: "nodes") %>
      <% end %>

      <%= render "shared/snackbar" %>
    <% end %>
  <% end %>
<% end %>
